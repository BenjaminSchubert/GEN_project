#:kivy 1.9.1

#: import get_color_from_hex kivy.utils.get_color_from_hex

<ParametersScreen>:
    #import
    newUserName: newUserName
    newBallColor: newBallColor
    oldPassword: oldPassword
    newPassword: newPassword
    newPasswordConfirmation: newPasswordConfirmation
    buttonChangeParameters: buttonChangeParameters
    buttonChangePassword: buttonChangePassword

    GridLayout:
        cols: 2
        spacing: 5

        Label:
            text: "New user name:"

        TextInput:
            id: newUserName
            multiline: False
            text: root.username

        Label:
            text: "New ball color:"

        ColorPicker:
            id: newBallColor
            size_hint: 1, 4
            color: get_color_from_hex(root.color)

        BoxLayout:

        Button:
            id: buttonChangeParameters
            size_hint: 1, 0.3
            text: "Save"
            on_release: root.validate_parameters()

        Label:
            text: "Old password:"

        TextInput:
            id: oldPassword
            password: True
            multiline: False

        Label:
            text: "New password:"

        TextInput:
            id: newPassword
            password: True
            multiline: False

        Label:
            text: "Confirm new password:"

        TextInput:
            id: newPasswordConfirmation
            password: True
            multiline: False

        Button:
            size_hint: 1, 0.3
            text: "Cancel"
            on_release: root.manager.main_screen()

        Button:
            id: buttonChangePassword
            size_hint: 1, 0.3
            text: "Change password"
            on_release: root.validate_password()
