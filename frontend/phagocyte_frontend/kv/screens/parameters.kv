#:kivy 1.9.1

#: import get_color_from_hex kivy.utils.get_color_from_hex

<ParametersScreen>:
    #import
    new_user_name: new_user_name
    new_ball_color: new_ball_color
    old_password: old_password
    new_password: new_password
    new_password_confirmation: new_password_confirmation
    button_change_parameters: button_change_parameters
    button_change_password: button_change_password

    GridLayout:
        cols: 2
        padding: 10
        spacing: 20

        Label:
            text: "New user name:"

        TextInput:
            id: new_user_name
            multiline: False
            text: root.username

        Label:
            text: "New ball color:"

        ColorPicker:
            id: new_ball_color
            size_hint: 1, 4.5
            color: get_color_from_hex(root.color)

        BoxLayout:

        Button:
            id: button_change_parameters
            size_hint: 1, 1.2
            text: "Save"
            on_release: root.validate_parameters()

        Label:
            text: "Old password:"

        TextInput:
            id: old_password
            password: True
            multiline: False

        Label:
            text: "New password:"

        TextInput:
            id: new_password
            password: True
            multiline: False

        Label:
            text: "Confirm new password:"

        TextInput:
            id: new_password_confirmation
            password: True
            multiline: False

        Button:
            size_hint: 1, 1.2
            text: "Cancel"
            on_release: root.manager.main_screen()

        Button:
            id: button_change_password
            size_hint: 1, 1.2
            text: "Change password"
            on_release: root.validate_password()
